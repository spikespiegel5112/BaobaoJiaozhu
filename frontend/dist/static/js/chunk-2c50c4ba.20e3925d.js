(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c50c4ba"],{"41b8":function(t,e,a){},"4df4":function(t,e,a){"use strict";var n=a("0366"),o=a("7b0b"),i=a("9bdd"),r=a("e95a"),l=a("68ee"),s=a("07fa"),c=a("8418"),u=a("9a1f"),d=a("35a1");t.exports=function(t){var e=o(t),a=l(this),p=arguments.length,m=p>1?arguments[1]:void 0,f=void 0!==m;f&&(m=n(m,p>2?arguments[2]:void 0,2));var h,g,y,b,v,D,C=d(e),k=0;if(!C||this==Array&&r(C))for(h=s(e),g=a?new this(h):Array(h);h>k;k++)D=f?m(e[k],k):e[k],c(g,k,D);else for(b=u(e,C),v=b.next,g=a?new this:[];!(y=v.call(b)).done;k++)D=f?i(b,m,[y.value,k],!0):y.value,c(g,k,D);return g.length=k,g}},"72c5":function(t,e,a){"use strict";a("41b8")},9410:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("CommonQuery",[a("template",{slot:"button1"},[a("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:t.handleCreate}},[t._v(" 新建 ")]),a("el-button",{attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},on:{click:t.handleMultipleDelete}},[t._v(" 批量删除 ")])],1),a("template",{slot:"quicksearch"},[a("div",{staticClass:"common_search_wrapper",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}}},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.queryModel.brandName,expression:"queryModel.brandName"}],attrs:{placeholder:"请输入",type:"text"},domProps:{value:t.queryModel.brandName},on:{input:function(e){e.target.composing||t.$set(t.queryModel,"brandName",e.target.value)}}})]),a("a",[a("span",{staticClass:"el-icon-search",on:{click:t.search}})])])])],2),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:t.tableList,height:t.tableHeight,border:"","element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),a("el-table-column",{attrs:{align:"center",fixed:"",label:"No",type:"index",width:"45"}}),a("el-table-column",{attrs:{align:"center",label:"字典项名称",prop:"name"}}),a("el-table-column",{attrs:{align:"center",label:"字典项Code",prop:"code"}}),a("el-table-column",{attrs:{align:"center",label:"类型",prop:"typeName"}}),a("el-table-column",{attrs:{align:"center",label:"类型Code",prop:"typeCode"}}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleUpdate(e)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"common_pagination_wrapper"},[a("el-pagination",{attrs:{"current-page":t.pagination.page,"page-size":t.pagination.limit,"page-sizes":[10,20,30,50,100],total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(e){return t.$set(t.pagination,"page",e)},"update:current-page":function(e){return t.$set(t.pagination,"page",e)},"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.createDialogFormVisible,width:"850px"},on:{"update:visible":function(e){t.createDialogFormVisible=e}}},[a("el-row",{attrs:{justify:"center",type:"flex"}},[a("el-col",{attrs:{span:20}},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-position":"right","label-width":"140px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"Code",prop:"code"}},[a("el-input",{model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),a("el-row",{attrs:{gutter:1}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"类型",prop:"typeCode"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:""},on:{change:t.chooseType},model:{value:t.formData.typeCode,callback:function(e){t.$set(t.formData,"typeCode",e)},expression:"formData.typeCode"}},t._l(t.typeList,(function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addTypeFlag=!0}}},[t._v("新增类型")])],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.createDialogFormVisible=!1}}},[t._v(t._s(t.$t("table.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.updateData}},[t._v(t._s(t.$t("table.confirm")))])],1)],1),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"850px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-row",{attrs:{justify:"center",type:"flex"}},[a("el-col",{attrs:{span:20}},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-position":"right","label-width":"140px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"Code",prop:"code"}},[a("el-input",{model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),a("el-row",{attrs:{gutter:1}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"类型",prop:"typeCode"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:""},on:{change:t.chooseType},model:{value:t.formData.typeCode,callback:function(e){t.$set(t.formData,"typeCode",e)},expression:"formData.typeCode"}},t._l(t.typeList,(function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addTypeFlag=!0}}},[t._v("新增类型")])],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.$t("table.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.updateData}},[t._v(t._s(t.$t("table.confirm")))])],1)],1),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.addTypeFlag,width:"850px"},on:{"update:visible":function(e){t.addTypeFlag=e}}},[a("el-row",{attrs:{justify:"center",type:"flex"}},[a("el-col",{attrs:{span:20}},[a("el-form",{ref:"typeFormData",attrs:{model:t.typeFormData,rules:t.rules,"label-position":"right","label-width":"140px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:t.typeFormData.name,callback:function(e){t.$set(t.typeFormData,"name",e)},expression:"typeFormData.name"}})],1),a("el-col",[a("el-form-item",{attrs:{label:"Code",prop:"code"}},[a("el-input",{model:{value:t.typeFormData.code,callback:function(e){t.$set(t.typeFormData,"code",e)},expression:"typeFormData.code"}})],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addTypeFlag=!1}}},[t._v(t._s(t.$t("table.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.createType}},[t._v(t._s(t.$t("table.confirm")))])],1)],1)],1)},o=[],i=(a("159b"),a("4de4"),a("b0c0"),a("99af"),a("d3b7"),a("25f0"),a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"common_tag_wrapper"},[a("el-col",{attrs:{span:2}},[t._v(t._s(t.title))]),a("el-col",{attrs:{span:22}},[t._l(t.dynamicTags,(function(e,n){return a("el-tag",{key:n,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return t.handleClose(e)}}},[t._v(" "+t._s(e)+" ")])})),t.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm.apply(null,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):a("el-button",{ref:"saveTagInput",staticClass:"button",attrs:{size:"small"},on:{blur:t.handleInputConfirm,click:t.showInput},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm.apply(null,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[t._v("添加版本 ")])],2)],1)}),r=[];function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function s(t){if(Array.isArray(t))return l(t)}a("a4d3"),a("e01a"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function c(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}a("fb6a");function u(t,e){if(t){if("string"===typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(t,e):void 0}}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t){return s(t)||c(t)||u(t)||d()}a("a434");var m={name:"CommonTag",props:{metaData:{type:Array,default:function(){return[]},required:!1},title:{type:String,default:"",required:!1},tagData:{type:Array,default:[],required:!1},buttonText:{type:String,default:"+",required:!1}},data:function(){return{dynamicTags:[],inputVisible:!1,inputValue:""}},watch:{tagData:function(t){console.log(t),t.length>=0?this.dynamicTags=t:this.$message.error("tag列表数据类型不正确")}},mounted:function(){this.dynamicTags=this.tagData},methods:{handleInputConfirm:function(){var t=this,e=this.inputValue;e&&this.dynamicTags.push(e),this.inputVisible=!1,this.inputValue="",this.$emit.apply(this,["add",this.dynamicTags].concat(p(t.metaData)))},handleClose:function(t){var e=this;this.$emit.apply(this,["delete",t,this.dynamicTags.indexOf(t)].concat(p(e.metaData))),this.dynamicTags.splice(this.dynamicTags.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))}}},f=m,h=a("2877"),g=Object(h["a"])(f,i,r,!1,null,"8021313e",null),y=g.exports,b=a("3b8a"),v={components:{CommonTag:y,CommonQuery:b["a"]},data:function(){var t=this;return{getListRequest:"dictionary/getList",createOrUpdateRequest:"dictionary/createOrUpdate",deleteItemRequest:"dictionary/deleteItem",tableList:[],total:null,listLoading:!0,queryModel:{sort:"desc",typeCode:""},pagination:{page:1,limit:50},sortOptions:[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],formData:{dictionaryId:"",typeName:"",typeCode:"",name:"",code:""},typeFormData:{name:"",code:""},typeList:[],dialogFormVisible:!1,createDialogFormVisible:!1,addTypeFlag:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,rules:{typeCode:[{required:!0,message:"此项为必填项",trigger:"change"}],name:[{required:!0,message:"此项为必填项",trigger:"change"}],code:[{required:!0,message:"此项为必填项",trigger:"change"}]},pickerOptions1:{disabledDate:function(e){return e.getTime()<t.value1}},fileList:[],portraitParams:{bucketName:"funyvalley",folderName:"icon"},expandQuery:""}},computed:{tableHeight:function(){return this.$store.state.app.tableHeight}},watch:{effectiveDuration:function(t){console.log(t),null===t&&(t=[]),this.formData.startDate=this.$moment(t[0]).format("YYYY-MM-DD"),this.formData.endDate=this.$moment(t[1]).format("YYYY-MM-DD")},currentAdvertisementTabIndex:function(t){console.log(t)}},mounted:function(){this.getTableData()},methods:{getTableData:function(){var t=this;this.listLoading=!0,this.queryModel=Object.assign(this.queryModel,this.pagination),this.$http.get(this.$baseUrl+this.getListRequest,{params:this.queryModel}).then((function(e){console.log("getListByPaginationRequest",e),t.tableList=e.data,t.total=e.pagination.total,t.listLoading=!1}))},getTypeList:function(){var t=[];this.tableList.forEach((function(e){0===t.filter((function(t){return t.code===e.typeCode})).length&&t.push({name:e.typeName,code:e.typeCode})})),console.log(t),this.typeList=t},handleFilter:function(){this.pagination.page=1,this.getTableData()},handleSizeChange:function(t){this.pagination.limit=t,this.getTableData()},handleCurrentChange:function(t){this.pagination.page=t,this.getTableData()},resetTemp:function(){this.formData={dictionaryId:"",typeCode:"",typeName:"",name:"",code:""}},handleCreate:function(){this.resetTemp(),this.getTypeList(),console.log(this.typeList),this.createDialogFormVisible=!0},createData:function(){this.handleUpdate()},handleUpdate:function(t){var e=this;console.log(t),this.getTypeList(),console.log(this.typeList),this.$nextTick((function(){e.formData=Object.assign({},t.row),e.dialogStatus="update",e.dialogFormVisible=!0,e.$nextTick((function(){e.$refs["formData"].clearValidate()}))}))},chooseType:function(t){this.formData.typeName=this.typeList.filter((function(e){return e.code===t}))[0].name},updateData:function(){var t=this;this.$refs["formData"].validate((function(e){e&&t.$http.post(t.$baseUrl+t.createOrUpdateRequest,{dictionaryId:t.formData.dictionaryId,headerId:t.formData.headerId,name:t.formData.name,typeCode:t.formData.typeCode,typeName:t.formData.typeName,code:t.formData.code}).then((function(e){console.log(e),t.dialogFormVisible=!1,t.createDialogFormVisible=!1,t.$message.success("信息修改成功"),t.getTableData()})).catch((function(e){console.log(e),t.$message.error("".concat(e.response.status.toString(),"  ").concat(e.response.data.error))}))}))},createType:function(){var t=this;0===this.typeList.filter((function(e){return e.code===t.typeFormData.code})).length?(this.typeList.push(this.typeFormData),this.addTypeFlag=!1):this.$message.warning("当前type已存在")},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},handleMultipleDelete:function(){var t=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRecord(t.multipleSelection.map((function(t){return t.id})))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleDelete:function(t){var e=this;console.log(t),this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteRecord([t.row.id])})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},deleteRecord:function(t){var e=this;this.$http.delete(this.$baseUrl+this.deleteItemRequest,{data:{id:t}}).then((function(t){console.log(t),e.dialogFormVisible=!1,e.$message.success("删除成功"),e.getTableData()})).catch((function(t){console.log(t),e.$message.error("".concat(t.response.status.toString(),"  ").concat(t.response.data.error))}))},expand:function(){this.expandQuery=!this.expandQuery},search:function(){this.getTableData()},reset:function(){this.queryModel.available=!0},uploadSuccess1:function(t){console.log(t),this.formData.icon=t.url},uploadSuccess2:function(t){this.formData.rewardImage=t.url},changeDailyLimitMode:function(t){this.formData.dailyLimit="unlimited"===t.toString()?"-1":this.formData.dailyLimit},changeLimitMode:function(t){this.formData.limit="unlimited"===t.toString()?"-1":this.formData.limit,alert(this.formData.limit)},chooseRewardType:function(t){console.log(t)},chooseThirdPartyProduct:function(t){this.chosenThirdPartyProductInfo=t},confirmCrawlerSetting:function(){this.crawlerSettingFlag=!1,this.$message.success("设置成功")},focusSortList:function(t,e){var a=this;this.loading=!0,this.$http.get(this.$baseUrl+this.queryRewardProductByNameRequest,{params:{name:this.chosenReward}}).then((function(t){console.log(t),a.loading=!1;var n=[];0!==t.data.length&&(t.data.forEach((function(t,e){n.push(Object.assign(t,{value:t.name}))})),console.log(111,n),e(n))}))}}},D=v,C=(a("72c5"),Object(h["a"])(D,n,o,!1,null,"67819a6c",null));e["default"]=C.exports},"9bdd":function(t,e,a){var n=a("825a"),o=a("2a62");t.exports=function(t,e,a,i){try{return i?e(n(a)[0],a[1]):e(a)}catch(r){o(t,"throw",r)}}},a630:function(t,e,a){var n=a("23e7"),o=a("4df4"),i=a("1c7e"),r=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:r},{from:o})},d28b:function(t,e,a){var n=a("746f");n("iterator")},e01a:function(t,e,a){"use strict";var n=a("23e7"),o=a("83ab"),i=a("da84"),r=a("1a2d"),l=a("1626"),s=a("861d"),c=a("9bf2").f,u=a("e893"),d=i.Symbol;if(o&&l(d)&&(!("description"in d.prototype)||void 0!==d().description)){var p={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof m?new d(t):void 0===t?d():d(t);return""===t&&(p[e]=!0),e};u(m,d);var f=m.prototype=d.prototype;f.constructor=m;var h=f.toString,g="Symbol(test)"==String(d("test")),y=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(r(p,t))return"";var a=g?e.slice(7,-1):e.replace(y,"$1");return""===a?void 0:a}}),n({global:!0,forced:!0},{Symbol:m})}}}]);
//# sourceMappingURL=chunk-2c50c4ba.20e3925d.js.map